
/* Pilgrim Map Kit â€” scoped styles
   Wrapper: .pilgrim-map
   Fonts are expected to be loaded by the page (see usage snippet).
*/
.pilgrim-map {
  --pm-font-heading: "Manrope", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --pm-font-body: "Poppins", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --pm-color-primary: #1976d2;    /* route + accents */
  --pm-color-accent:  #003366;    /* stage dots, dark accents */
  --pm-color-label:   #0b5394;    /* city label text */
  --pm-color-card:    #ffffff;
  --pm-color-border:  #e5e7eb;
  --pm-color-errorbg: #fff5f5;
  --pm-color-errorfg: #8a1c1c;

  position: relative;
  font-family: var(--pm-font-body);
}

.pilgrim-map .pm-container { max-width: 1100px; margin: 0 auto; position: relative; }
.pilgrim-map .pm-map { height: 420px; border-radius: 8px; overflow: hidden; }
.pilgrim-map .pm-elev-card { margin-top: 12px; padding: 10px; border-radius: 8px; background: var(--pm-color-card); border: 1px solid var(--pm-color-border); }
.pilgrim-map .pm-elev-canvas { width: 100%; height: 220px; }
.pilgrim-map .pm-error { display:none; margin-top:12px; padding:12px; border-left:4px solid #d32f2f; background: var(--pm-color-errorbg); color: var(--pm-color-errorfg); border-radius:6px; font-size:14px; }

/* City labels (permanent tooltips) */
.pilgrim-map .leaflet-tooltip.city-label {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0 2px;
  color: var(--pm-color-label);
  font-weight: 700;
  font-size: 13px;
  text-shadow: 0 0 3px #ffffff;
}

/* Hide the popup "diamond" tip for a cleaner look */
.pilgrim-map .leaflet-popup-tip { display: none; }
.pilgrim-map .leaflet-popup-content-wrapper { border-radius: 8px; }

/* Compact attribution */
.pilgrim-map .leaflet-control-attribution {
  font-size: 11px;
  background: rgba(255,255,255,0.85);
  padding: 2px 6px;
  border-radius: 6px;
}

/* Brand badge / logo (clickable) */
.pilgrim-map .pm-brand {
  position: absolute;
  top: 10px;
  right: 10px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  background: rgba(255,255,255,0.9);
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid var(--pm-color-border);
  z-index: 500;
}

.pilgrim-map .pm-brand img {
  display: block;
  height: 26px;
  width: auto;
}

.pilgrim-map .pm-brand span {
  font-family: var(--pm-font-heading);
  font-weight: 700;
  font-size: 13px;
  color: #1f2937;
  letter-spacing: .02em;
}

/* Optional dark mode (scoped) */
@media (prefers-color-scheme: dark) {
  .pilgrim-map .pm-elev-card { background: #0b0f14; border-color: #1f2937; }
  .pilgrim-map .pm-error { background: #2a0f10; color: #ffd2d2; }
  .pilgrim-map .leaflet-control-attribution { background: rgba(0,0,0,0.6); color: #d1d5db; }
  .pilgrim-map .leaflet-tooltip.city-label { text-shadow: 0 0 3px #0b0f14; }
}
